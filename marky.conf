{
    defaults => {
        title => 'Marky',
        footer => 'Marky FOOT',
        db => 'craft',
    },
    hypnotoad => {
        pid_file => app->home->rel_file("marky.pid"),
        listen => ['http://*:3001'],
        proxy => 1,
    },
#    nytprof => {
#        nytprofhtml_path => '/usr/bin/nytprofhtml',
#        profiles_dir => app->home->rel_file("nytprof"),
#        allow_production => 1,
#    },
    foil => {
        "localhost:3000" => {
            name => "morbo",
            default_theme => 'gblue',
            navbar_host => 'localhost:81',
            navbar_links => [qw(
                /action/
                /address/
                /docs/
                /episodes/
                /fanfic/
                /gallery/
                /gusto/
                /harmony/
                /listfont/
                http://localhost/~kat/netfic/
                /profic/
                /stories/
                /text/
                /wiki/
                )],
        },
        "localhost:3001" => {
            name => "hypnotoad",
            logo_dark_url => app->url_for("/css/logos/marky_dark.png"),
            logo_light_url => app->url_for("/css/logos/marky_light.png"),
            default_theme => 'cloud2',
            navbar_host => 'localhost:81',
            navbar_links => [qw(
                /action/
                /address/
                /docs/
                /episodes/
                /fanfic/
                /gallery/
                /gusto/
                /harmony/
                /listfont/
                http://localhost/~kat/netfic/
                /profic/
                /stories/
                /text/
                /wiki/
                )],
        },
        "localhost:81" => {
            name => "KatPlay",
            logo_dark_url => app->url_for("/css/logos/katplay_logo_black.png"),
            logo_light_url => app->url_for("/css/logos/katplay_logo_white.png"),
            default_theme => 'bronze',
            navbar_host => 'localhost:81',
            navbar_links => [qw(
                /action/
                /address/
                /docs/
                /episodes/
                /fanfic/
                /gallery/
                /gusto/
                /harmony/
                /listfont/
                http://localhost/~kat/netfic/
                /profic/
                /stories/
                /text/
                /wiki/
                )],
        },
        "iwww.localhost" => {
            name => "KatSpace Local",
            logo_dark_url => app->url_for("/css/logos/katspace_logo_dark.png"),
            logo_light_url => app->url_for("/css/logos/katspace_logo_light.png"),
            default_theme => 'matrix',
            navbar_host => 'iwww.localhost',
            navbar_links => [qw(
                /about/
                /computers/
                /contact/
                /events/
                /fandom/
                /fiction/
                /games/
                /graphics/
                /gusto/
                /links/
                /lists/
                /sitemap/
                /reviews/
                /search/
                /zines/
                )],
        },
        "www.katspace.org" => {
            name => "KatSpace",
            logo_dark_url => app->url_for("/css/logos/katspace_logo_dark.png"),
            logo_light_url => app->url_for("/css/logos/katspace_logo_light.png"),
            default_theme => 'matrix',
            navbar_host => 'www.katspace.org',
            navbar_links => [qw(
                /about/
                /computers/
                /contact/
                /events/
                /fandom/
                /fiction/
                /games/
                /graphics/
                /gusto/
                /links/
                /lists/
                /sitemap/
                /reviews/
                /search/
                /zines/
                )],
        },
        "localhost:9301" => {
            name => "Tunnel",
            default_theme => 'green3',
            navbar_host => 'www.katspace.org',
            navbar_links => [qw(
                /about/
                /computers/
                /contact/
                /events/
                /fandom/
                /fiction/
                /games/
                /graphics/
                /gusto/
                /links/
                /lists/
                /sitemap/
                /reviews/
                /search/
                /zines/
                )],
        },
    },
    tables => {
        craft => {
            database => app->home->rel_file("../collections/craft/tags.sql"),
            public_dir => app->home->rel_file("../collections/craft/contents/"),
            table => 'filetable_pr',
            columns => [qw(title alt_title url fileurl description tags grouping linkdate)],
            default_sort => [qw(grouping title)],
            show_sql => 1,
            row_template => '
<li{?private  class="private"}>
{?thumburl <div class="thumbnail"><a href="/db/craft/view[$thumburl]"><img style="height:150px;" src="/db/craft/view[$thumburl]" alt="[$title]"/></a></div>}
<div class="linkcontainer">
<div class="linktitle"><span class="grouping">{$grouping}</span> {?has_download <a href="/db/craft/view[$fileurl]" title="[$fileurl]">}{?alt_title [$alt_title]!![$title]}{?has_download </a>}</div>
{?url <div class="linkurl"><a href="[$url]" title="[$url]">[$title]</a></div>}
<div class="linkdescription">
{?description [$description:html]}
</div>
<div class="details">{$linkdate}</div>
{?all_tags <div class="linktaglist">[$all_tags]</div>}
</div>
</li>
',
            editing => {
                fields => [qw(url thumb_url title description tags private_tags)],
                bookmark_dir => app->home->rel_file("../collections/craft/contents/Bookmarks"),
                timestampfield => 'linkdate',
                update_script => '/home/kat/bin/add_thumb_book',
            },
        },
        fanfic => {
            database => '/home/kat/websites/katplay/ikiwikis/fanfic/web_src/.ikiwiki/ikiwiki.sqlite',
            table => 'stories',
            columns => [qw(title author universe description review characters series tags)],
            sort_columns => [qw(title page author universe description review characters category elsewhere series seriesorder status finis tags)],
            default_sort => [qw(title)],
            show_sql => 1,
            row_template =>'
<li{?private  class="private"}>
<div class="linkcontainer fanfic">
<span class="linktitle">{?series [$series] }{?seriesorder ([$seriesorder]) }<a href="/fanfic/{$page}">{$title}</a>{?author  by [$author]} ({$universe:pipetoslash})</span>
{?elsewhere <div class="linkurl">[$elsewhere:items_url]</div>}
<div class="characters">{$characters:pipetocomma}</div>
<div class="details">{$length}{?words  ([$words] words)}{?finis  [$finis]}{?rating  [$rating]}{?ranking  [$ranking]}{?status  [$status:pipetocomma]}</div>
<div class="linkdescription">
{?description [$description:html]}
</div>
{?review <div class="review">[$review:html]</div>}
{?all_tags <div class="linktaglist">[$all_tags]</div>}
</div>
</li>
',
        },
        maille_weaves => {
            database => '/home/kat/websites/katplay/ikiwikis/action/src/reference/Chain_Maille/database/chain.sqlite',
            public_dir => '/home/kat/websites/katplay/ikiwikis/action/src/reference/Chain_Maille/database/',
            table => 'weavesinfo',
            tagfield => 'Tags',
            columns => [qw(Weave Tags Notes)],
            sort_columns => [qw(Weave MailCode Tags IdealAR NumRingSizes NumWireSizes)],
            default_sort => [qw(Weave)],
            show_sql => 1,
            row_template =>'
<li>
<div class="thumbnail">
{?MailCode <a href="/db/maille_weaves/view/images/weave_[$MailCode].jpg"><img style="height:150px;" src="/db/maille_weaves/view/images/thumb_weave_[$MailCode].jpg" alt="[$Weave]"/></a>}
</div>
<div class="linkcontainer maille">
    <div class="linktitle"><a href="{$WeaveUrl}">{$Weave}</a> ({$WeaveCode}) [{$MailCode}]</div>
{?SeeAlso <div class="linkurl">[$SeeAlso:items_url]</div>}
    <div class="linkdescription">
<span class="linkurl"><a href="/db/maille_weaves/view/images/weavedep_{$WeaveCode}.png">Dependency graph <img style="max-height:30px; max-width:300px;" src="/db/maille_weaves/view/images/thumb_weavedep_{$WeaveCode}.png" alt="{$WeaveCode} depends"/></a></span><br/>
<table class="data">
    <tr>
        <th>Rings</th>
        {?ColourCount <th>Colours</th>}
        {?IdealAR <th>Ideal AR</th>}
        {?WireRatios <th>Wire Ratios</th>}
    </tr>
    <tr>
        <td>{$NumRingSizes}/{$NumWireSizes}
        </td>
        {?ColourCount <td>[$ColourCount]</td>}
        {?IdealAR <td>[$IdealAR:pipetocomma]</td>}
        {?WireRatios <td>[$WireRatios:pipetocomma]</td>}
    </tr>
</table>
{?Notes [$Notes]}
</div>
{?all_tags <div class="linktaglist">[$all_tags]</div>}
</div>
</li>
',
        },
        maille_rings => {
            database => '/home/kat/websites/katplay/ikiwikis/action/src/reference/Chain_Maille/database/chain.sqlite',
            public_dir => '/home/kat/websites/katplay/ikiwikis/action/src/reference/Chain_Maille/database/',
            table => 'ringsinfo',
            tagfield => 'Tags',
            columns => [qw(Metal Tags Colours Source)],
            sort_columns => [qw(Metal Source WireDiameter WireHeight WireMax InnerDiameter OuterDiameter AspectRatio NumColours NumGenColours)],
            default_sort => [qw(WireDiameter InnerDiameter)],
            show_sql => 1,
            row_template =>'
<li>
<div class="linkcontainer rings">
    <div class="linktitle">{$Code} ({$Metal})</div>
    <div class="linkdescription">
        <table style="width:100%;">
            <tr>
                <td style="width:30%;">
                    <table class="data">
                        <tr>
                            <th>ID:</th><td>{$InnerDiameter}{?IDInches  ([$IDInches]")}</td>
                            <th>WD:</th><td>{$WireDiameter}{?WireHeightDiffers /[$WireHeight]}</td>
                            </tr><tr>
                            <th>OD:</th><td>{$OuterDiameter}</td>
                            <th>AR:</th><td>{$AspectRatio}</td>
                        </tr>
                    </table>
                </td>
                <td style="width:70%;">
                    <span class="colours">{$Colours:pipetocomma}</span><br/>
                    <span class="linkurl">{?SourceUrl <a href="[$SourceUrl]">}{$Source}{?SourceUrl </a>}</span>
                </td>
            </tr>
        </table>
    </div>
{?all_tags <div class="linktaglist">[$all_tags]</div>}
</div>
</li>
',
        },
        yarn => {
            database => '/home/kat/websites/katplay/ikiwikis/action/src/reference/My_Yarn/database/yarn.sqlite',
            public_dir => '/home/kat/websites/katplay/ikiwikis/action/src/reference/My_Yarn/database/',
            table => 'yarninfo',
            tagfield => 'AllTags',
            columns => [qw(Name Tags Colour Thickness Materials)],
            sort_columns => [qw(Name BoxID Location Colour GenColour BallType BallNumber Thickness NeedleSize Materials)],
            default_sort => [qw(Name)],
            show_sql => 1,
            row_template =>'
<li>
<div class="linkcontainer yarn">
    <div class="linktitle">{$Name}</div>
    <div class="linkdescription">
    <span class="location">{$Location}:{$BoxID}</span><br/>
<table class="data">
    <tr>
        <th>Colour</th>
        <th>Balls</th>
        <th>Materials</th>
        <th>Tags</th>
    </tr>
    <tr>
        <td>{$Colour} ({$GenColour})</td>
        <td>{$BallNumber} {$BallType}</td>
        <td>{$Materials}</td>
        <td>{$Tags:pipetocomma} {$Thickness} {?NeedleSize [$NeedleSize]mm}</td>
    </tr>
</table>
</div>
{?all_tags <div class="linktaglist">[$all_tags]</div>}
</div>
</li>
',
        },
    },
}
